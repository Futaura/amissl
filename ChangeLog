------------------------------
AmiSSL Open Source - ChangeLog
------------------------------

$Id$
$URL$

2014-07-10 Jens Maus <mail@jens-maus.de>
 
  * openssl/util/pl/OS4.pl: enabled -Wall and fixed a whole bunch of compiler warnings.
  * amissl_library.c, amissl_glue.c: removed the functionality to use an environment
    variable to override the SSL protocol version even if an application directly uses
    a SSLv23_XXXX_method() function. While this functionality was really rarely used
    it also contradicts what an application expects these functions to do. So if an
    application want to explictly force a protocol version to be used it ought to 
    better use SSL_CTX_set_options() afterwards rather than directly allowing users
    to override this functionality for all applications which potentially might
    fail. Thus, this is again not the task of AmiSSL/OpenSSL and thus the removal
    of it.
  * amissl_glue.c, amissl_library.c: renamed _AmiSSL_InternalInitAmiSSL() and
    _AmiSSL_CleanupAmiSSLA() to just InternalInitAmiSSL()/CleanupAmiSSLA()
    so that in amissl_glue.c we don't have to comment out these functions.
  * amissl_glue.c, amissl_library_os4.c: renamed _AmiSSL_Obtain/Release to just
    Obtain/Release so that amissl_glue.c can use these functions properly.
  * amissl_library.c, misc: removed the whole IsCipherAvailable() functionality which
    just makes the changes against the official OpenSSL sources way too complex. In
    addition, it should not be the task of AmiSSL (or any OpenSSL-based library) to
    enforce country specific cipher details. In fact, it is the clear responsibility
    of the applications using AmiSSL/OpenSSL to only use ciphers which are legal
    in the country the applications might be used. This is definitly out of the
    scope of AmiSSL/OpenSSL and is also handled like this on other operating systems
    (e.g. Linux, etc.)

2014-07-09 Jens Maus <mail@jens-maus.de>
 
  * misc: added OPENSSL_NO_FP_API to our main makefile and commented out all public
    functions dealing eith FILE* file pointers which are specific to every C library
    and are thus not compatible throughout the different c-libraries.
  * openssl/crypto/cryptlib.c: brought back OPENSSL_stderr() function which is part
    of the public OpenSSL API.
  * include/xml/amissl.xml: added ENGINE_load_gost() which was still missing in the
    interface description.
  * libcmt/abort.c, libcmt/Makefile: implement an abort() wrapper which simply
    outputs an error message and runs Wait(0) instead of using exit() which might
    be problematic in a shared library.
  * openssl/crypto/pqueue.c: instead of using printf() we use BIO_printf() instead
    to get rid of undefined symbols warning at linkage.
  * openssl/e_os.h: added strcasecmp/strncasecmp replacement defines for AMISSL so
    that OPENSSL_strcasecmp() is used instead.

2014-07-08 Jens Maus <mail@jens-maus.de>

  * misc: merged the OpenSSL 1.0.1h vendor branch onto the trunk and adapted all
    AmiSSL sources accordingly. Note, however, that the sources doesn't completly
    compile without errors and warnings and that linking of the main shared library
    is still not finished. However, we are almost done with the job, so lets put
    the sources upstream so that other (e.g. Thore) can help ;)

2014-06-21 Jens Maus <mail@jens-maus.de>

  * misc: finalized work on port of OpenSSL 0.9.8y to AmiSSL. Now we have a first
    working version of AmiSSL for OS4 which is based on OpenSSL 0.9.8y. Next will
    be porting/merging to OpenSSL 1.0.1 which will be hopefully not such a huge
    effort than porting from 0.9.7 to 0.9.8 took.

2014-06-12 Jens Maus <mail@jens-maus.de>

  * misc: merged the vendor update of OpenSSL 0.9.8y to our 'openssl' top-level
    directory and adapted our build environment accordingly. The build still doesn't
    success until linking the shared library but we are pretty close I would think.

2014-03-13 Jens Maus <mail@jens-maus.de>

  * src/amissl_library.c: slightly improved the multithreading locking mechanism.
  * src/amissl_library.c: removed the restrictions of the IDEA and MDC2 cipher due
    to patents being in place. In fact, the IDEA patent lasted only till 2012
    (see http://en.wikipedia.org/wiki/International_Data_Encryption_Algorithm) and
    the MDC2 cipher patent expired in 2002 (see http://en.wikipedia.org/wiki/MDC-2).
    Also note that the RC5 cipher patent is also going to be expire in 2015.

2014-03-12 Jens Maus <mail@jens-maus.de>

  * misc: adapted all AmiSSL related changes to match and integrate the change from
    OpenSSL 0.9.7g to 0.9.7m. Modified the build environment to get everything more
    smoothly compiled. Also updated the include/xml interface desription files to
    match idltool 53.7 functionality so that even the m68k vector table source files
    are generated via idltool.
  * opemssl, misc: merged the changes between 0.9.7g and 0.9.7m into our 'openssl'
    top-level directory.
  * vendor/openssl-0.9.7m: put the latest OpenSSL 0.9.7 sources into a separate
    vendor branch

===== OLD RELEASE NOTES =====

AmiSSL 3.7 (2.4.2006)

- Fixed a problem in amisslmaster.library where init and cleanup routines
  might not get called a matching number of times.
- The expunge routine for amissl.library was cleaning up all currently hashed
  states, which is fine, but the pool from which these states were allocated was
  long gone at that time causing spectacular fireworks. Removed the cleanup from
  expunge routine and restored the one from close routine, but changed it to
  free only those states that belong to it (bug #2988).
- The 68k version now uses modified SAS/C libinit code which calls CacheClearE()
  instead of CacheClearU() to improve performance.

AmiSSL 3.6 (4.3.2006)

- The close routine for amissl.library was cleaning up all currently hashed
states, including those belonging to other openers of the library. This could
lead to a crash when two programs were using AmiSSL (bug #2960).

AmiSSL 3.5 (14.6.2005)

- First v3 release, port of OpenSSL 0.9.7g.
